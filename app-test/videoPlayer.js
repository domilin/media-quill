!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=3)}([function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));var r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},l=function(){if(window.pageXOffset)return{left:window.pageXOffset,top:window.pageYOffset};var e=document.scrollingElement||document.documentElement;return{left:e.scrollLeft,top:e.scrollTop}},i=function(e){return{top:e.getBoundingClientRect().top+l().top,left:e.getBoundingClientRect().left+l().left,bottom:e.getBoundingClientRect().bottom+l().top,right:e.getBoundingClientRect().right+l().left,height:e.getBoundingClientRect().height,width:e.getBoundingClientRect().width}},o=function(e){var t=e||window.event,n=document.documentElement.scrollLeft||document.body.scrollLeft,r=document.documentElement.scrollTop||document.body.scrollTop;return{x:t.pageX||t.clientX+n,y:t.pageY||t.clientY+r}},a=function(){for(var e=window.navigator.userAgent.toLowerCase(),t=["android","iphone","ipod","windows phone","ipad"],n=!0,r=0;r<t.length;r++)if(e.indexOf(t[r])>-1){n=!1;break}return n}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"videoInit",(function(){return i})),n.d(t,"videoPlayerCreate",(function(){return a})),n.d(t,"videoPlayer",(function(){return u}));var r=n(4),l=n(0),i=(n(7),function(e){var t=document.getElementsByClassName("quill-video-player"),n=Array.prototype.slice.call(t);if(0!==t.length){var l,i=Object(r.a)(n);try{for(i.s();!(l=i.n()).done;){var o=l.value.getAttribute("id");u({height:null==e?void 0:e.height,width:null==e?void 0:e.width,id:o})}}catch(e){i.e(e)}finally{i.f()}}}),o='<svg viewBox="0 0 1024 1024"><path d="M246.4 912.64c-17.92 0-32-14.08-32-32V231.68c0-37.12 19.2-71.04 51.84-89.6 32.64-18.56 71.04-18.56 103.68 0L870.4 430.72c32.64 18.56 51.84 51.84 51.84 89.6 0 37.12-19.2 71.04-51.84 89.6l-469.76 271.36c-15.36 8.96-34.56 3.84-43.52-11.52-8.96-15.36-3.84-34.56 11.52-43.52L838.4 554.88c17.92-10.24 19.84-27.52 19.84-33.92 0-7.04-1.92-23.68-19.84-33.92L337.28 197.76c-17.92-10.24-33.28-3.2-39.68 0-5.76 3.2-19.84 13.44-19.84 33.92v648.96c0.64 17.92-14.08 32-31.36 32z"></path></svg>',a=function(e){var t=e.videoWrapper,n=e.src,r=e.id,l=e.blot;if(t)if(n){if(r){if(!l){var i=t.getAttribute("class")||"";t.className="quill-video-player ".concat(i)}var a=document.createElement("div");a.className="quill-video-player-content";var u=document.createElement("video");u.setAttribute("src",n),u.setAttribute("playsinline","true"),u.setAttribute("webkit-playsinline","true"),u.setAttribute("x5-playsinline","true"),a.appendChild(u);var c=document.createElement("div");c.className="quill-video-player-controls";var d=document.createElement("div");d.className="quill-video-player-switch";var s=document.createElement("div");s.className="quill-video-player-icon-play",s.innerHTML=o,d.appendChild(s);var p=document.createElement("div");p.className="quill-video-player-icon-pause",p.innerHTML='<svg viewBox="0 0 1024 1024"><path d="M325.5 192.5c-19.9 0-36 16.1-36 36v567c0 19.9 16.1 36 36 36s36-16.1 35-36v-567c1-19.9-15.1-36-35-36z m373 0c-19.9 0-36 16.1-36 36v567c0 19.9 16.1 36 36 36s36-16.1 36-36v-567c0-19.9-16.1-36-36-36z" p-id="7763"></path></svg>',d.appendChild(p),c.appendChild(d);var f=document.createElement("div");f.className="quill-video-player-progress";var v=document.createElement("div");v.className="quill-video-player-progress-bar",f.appendChild(v);var m=document.createElement("div");m.className="quill-video-player-progress-current",f.appendChild(m);var y=document.createElement("div");y.className="quill-video-player-progress-buffer",f.appendChild(y);var h=document.createElement("div");h.className="quill-video-player-progress-wrapper",h.appendChild(f),c.appendChild(h);var b=document.createElement("div");b.className="quill-video-player-time";var g=document.createElement("div");g.className="quill-video-player-cur-time",g.innerText="--:--",b.appendChild(g);var x=document.createElement("span");x.innerText="/",b.appendChild(x);var q=document.createElement("div");q.className="quill-video-player-total-time",q.innerText="--:--",b.appendChild(q),c.appendChild(b),b.setAttribute("contenteditable","false");var w=document.createElement("div");w.className="quill-video-player-fullscreen",w.innerHTML='<svg viewBox="0 0 1024 1024"><path d="M160 96h192q14.016 0.992 23.008 10.016t8.992 22.496-8.992 22.496T352 160H160v192q0 14.016-8.992 23.008T128 384t-23.008-8.992T96 352V96h64z m0 832H96v-256q0-14.016 8.992-23.008T128 640t23.008 8.992T160 672v192h192q14.016 0 23.008 8.992t8.992 22.496-8.992 22.496T352 928H160zM864 96h64v256q0 14.016-8.992 23.008T896 384t-23.008-8.992T864 352V160h-192q-14.016 0-23.008-8.992T640 128.512t8.992-22.496T672 96h192z m0 832h-192q-14.016-0.992-23.008-10.016T640 895.488t8.992-22.496T672 864h192v-192q0-14.016 8.992-23.008T896 640t23.008 8.992T928 672v256h-64z" p-id="8486"></path></svg>',c.appendChild(w),a.appendChild(c);var T=document.createElement("div");T.className="quill-media-loading-content",a.appendChild(T);var S=document.createElement("div");S.className="quill-video-player-big-play-btn-mask";var E=document.createElement("div");return E.className="quill-video-player-big-play-btn",E.innerHTML=o,S.appendChild(E),a.appendChild(S),r&&t.setAttribute("id",r),t.appendChild(a),t}console.error('"id" parameter is required')}else console.error('"src" parameter is required');else console.error('"videoWrapper" parameter is required')},u=function(e){var t=e.height,n=e.width,r=e.id;if(r){var i,o=document.getElementById(r),a=null==o?void 0:o.querySelector(".quill-video-player-content"),u=null==o?void 0:o.querySelector("video"),c=null==o?void 0:o.querySelector(".quill-video-player-icon-play"),d=null==o?void 0:o.querySelector(".quill-video-player-big-play-btn-mask"),s=null==o?void 0:o.querySelector(".quill-video-player-icon-pause"),p=null==o?void 0:o.querySelector(".quill-video-player-progress-wrapper"),f=null==o?void 0:o.querySelector(".quill-video-player-progress"),v=null==o?void 0:o.querySelector(".quill-video-player-progress-bar"),m=null==o?void 0:o.querySelector(".quill-video-player-progress-current"),y=null==o?void 0:o.querySelector(".quill-video-player-progress-buffer"),h=null==o?void 0:o.querySelector(".quill-video-player-cur-time"),b=null==o?void 0:o.querySelector(".quill-video-player-total-time"),g=null==o?void 0:o.querySelector(".quill-video-player-fullscreen"),x=null==o?void 0:o.querySelector(".quill-media-loading-content"),q=!1,w="";n&&!t&&(w="width: ".concat(parseFloat(n),"px")),!n&&t&&(w="height: ".concat(parseFloat(t),"px")),n&&t&&(w="width: ".concat(parseFloat(n),"px; height: ").concat(parseFloat(t),"px")),a.setAttribute("style",w),v.setAttribute("style","width: 0; display: block;"),m.setAttribute("style","left: -4px; display: block;"),y.setAttribute("style","width: 0; display: block;"),u.load(),u.onerror=function(){setTimeout((function(){u.load()}),4e3)};var T,S=function(){x.setAttribute("style","display:block")},E=function(){x.setAttribute("style","display:none")};u.onwaiting=function(){S()},u.onseeking=function(){S()},u.onseeked=function(){E()},u.onloadstart=function(){S()};var A=function(){u.play(),c.style.display="none",s.style.display="flex",a.classList.add("active"),clearTimeout(i),d.setAttribute("style","transform: scale(0); opacity: 0;"),T=setTimeout((function(){d.setAttribute("style","display:none;")}),300)};c.onclick=function(){q&&A()},d.onclick=function(){q&&A()};var C=function(){c.style.display="flex",s.style.display="none",a.classList.remove("active"),clearTimeout(T),d.setAttribute("style","transform: scale(0); opacity: 0;"),i=setTimeout((function(){d.setAttribute("style","transform: scale(1); opacity: 1;")}),10)};s.onclick=function(){q&&(u.pause(),C())},u.onended=function(){C()},u.onclick=function(){q&&(u.paused?A():(u.pause(),C()))};var k,F,j="0";u.onloadedmetadata=function(){k=u.duration;var e=Math.floor(k/3600),t=Math.floor(k%3600/60),n=Math.floor(k%60);e=e>0?"".concat(e>=10?e:"0"+e,":"):"",t="".concat(t>=10?t:"0"+t,":"),n=n>=10?n:"0"+n,b.innerHTML=e+t+n,j=e,h.innerHTML=(parseInt(e)>0?"00:":"")+"00:00"},u.oncanplaythrough=function(){q=!0,E()},u.onprogress=function(){var e=u.buffered;if(e&&0!==e.length&&k){var t=e.end(e.length-1)/k*100;y.setAttribute("style","width: ".concat(t,"%; display: block;"))}};var O=function(e){var t=Math.floor(F/3600),n=Math.floor(F%3600/60),r=Math.floor(F%60);return(t=parseInt(j)>0?"".concat(t>=10?t:"0"+t,":"):"")+(n="".concat(n>=10?n:"0"+n,":"))+(r=r>=10?r:"0"+r)};u.ontimeupdate=function(){F=u.currentTime,h.innerHTML=O();var e=F/k;v.style.width=100*e+"%";var t=e*Object(l.a)(f).width;m.style.left="".concat(t-4,"px")},f.onclick=function(e){if(q){var t=Object(l.c)(e).x-Object(l.a)(this).left,n=t/Object(l.a)(f).width;v.style.width=100*n+"%",F=n*k,h.innerHTML=O(),u.currentTime=0|F,m.style.left="".concat(t-4,"px"),A()}};var M=!1,L=0,N=function(){var e=L/Object(l.a)(f).width*k;F=e,h.innerHTML=O();var t=L/Object(l.a)(f).width;return v.style.width=100*t+"%",m.style.left="".concat(L-4,"px"),e},z=function(e){if(e.preventDefault(),q){M=!0,u.pause(),C();var t=e.touches?e.touches[0].clientX:Object(l.c)(e).x;L=t-Object(l.a)(f).left}},R=function(e){if(e.preventDefault(),q&&M){var t=(e.touches?e.touches[0].clientX:Object(l.c)(e).x)-Object(l.a)(f).left;t>Object(l.a)(f).width&&(t=Object(l.a)(f).width),t<0&&(t=0),L=t,N()}},H=function(e){if(e.preventDefault(),q){M=!1;var t=N();u.currentTime=0|t,A()}},B=function(e){e.preventDefault(),M&&H(e)};p.onmousedown=z,p.ontouchstart=z,p.onmouseleave=B,p.ontouchcancel=B,p.onmouseup=H,p.ontouchend=H,p.onmousemove=R,p.ontouchmove=R;var I=function(e){e?(a.setAttribute("style","position:fixed; top:0; left:0; height:100%; width: 100%; max-width: inherit; z-index:9999;"),u.setAttribute("style","height:100%")):(u.pause(),C(),a.setAttribute("style",w),u.setAttribute("style",""))};document.addEventListener("fullscreenchange",(function(e){I(document.fullscreenElement)})),u.addEventListener("fullscreenchange",(function(){I(u.webkitDisplayingFullscreen)})),u.addEventListener("webkitendfullscreen",(function(){u.pause(),C(),a.setAttribute("style",w),u.setAttribute("style","opacity:0.9999")})),u.addEventListener("x5videoexitfullscreen",(function(){u.webkitExitFullScreen()})),g.onclick=function(){if(q)if(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)||!Object(l.b)()){var e=u;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitSupportsFullscreen&&e.webkitEnterFullscreen()}else{var t=document.documentElement;if(null===document.fullscreenElement)t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.webkitSupportsFullscreen&&t.webkitEnterFullscreen();else{var n=document;n.exitFullscreen?n.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()}}}}else console.error('"id" parameter is required')};"undefined"!=typeof window&&(window.videoInit=i),t.default={videoInit:i,videoPlayer:u,videoPlayerCreate:a}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i,o=!0,a=!1;return{s:function(){l=e[Symbol.iterator]()},n:function(){var e=l.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==l.return||l.return()}finally{if(a)throw i}}}}n.d(t,"a",(function(){return l}))},,,function(e,t,n){}]).default}));
//# sourceMappingURL=videoPlayer.js.map